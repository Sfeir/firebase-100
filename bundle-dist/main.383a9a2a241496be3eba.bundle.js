webpackJsonp([1],{"+s99":function(t,e){t.exports='<mat-card>\n    <mat-card-header *ngIf="user">\n        <div mat-card-avatar>\n            <img *ngIf="user.photoURL" [src]="user.photoURL">\n        </div>\n        <mat-card-title>{{user.displayName}}</mat-card-title>\n        <mat-card-subtitle>{{user.email}}</mat-card-subtitle>\n    </mat-card-header>\n    <mat-card-content *ngIf="!user">\n        <p>Use your email/password to sign in</p>\n        <section>\n            <mat-form-field>\n                <input [(ngModel)]="userCred.email" matInput placeholder="User email" type="email">\n            </mat-form-field>\n            <mat-form-field>\n                <input [(ngModel)]="userCred.password" type="password" matInput placeholder="User password">\n            </mat-form-field>\n            <button class="login-btn email" mat-button (click)="authService.login(\'email\', userCred)">Sign In</button>\n        </section>\n    </mat-card-content>\n    <mat-card-actions>\n        <button (click)="authService.logout()" mat-button *ngIf="user; else LoginTpl">Logout</button>\n    </mat-card-actions>\n</mat-card>\n\n<ng-template #LoginTpl>\n    <button class="login-btn google" mat-button (click)="authService.login(\'google\')">Login with Google</button>\n</ng-template>'},0:function(t,e,n){t.exports=n("cDNt")},D7uq:function(t,e){t.exports='<section>\n\n    <sfeir-chat-list [user]="authService.getLoggedUser()" [messageList]="thread | async"></sfeir-chat-list>\n    <sfeir-chat-input (file)="onFileSelected($event)" (message)="sendMessage($event)"></sfeir-chat-input>\n\n</section>'},Fp1G:function(t,e,n){(t.exports=n("Vmy+")(!1)).push([t.i,"",""]),t.exports=t.exports.toString()},"Hz+y":function(t,e){t.exports='<mat-card class="mat-whiteframe-2dp">\n\n    <mat-card-title>\n        <span *ngIf="isUpdateMode">Update {{ form.controls.firstname.value }} {{ form.controls.lastname.value }}</span>\n        <span *ngIf="!isUpdateMode">Create new person</span>\n    </mat-card-title>\n\n    <mat-card-content>\n        <form novalidate [formGroup]="form">\n\n            <p *ngIf="isUpdateMode">\n                <span style="width:100%">ID (disabled)</span><br/>\n                <span style="width:100%">{{model.id}}</span>\n            </p>\n\n            <table style="width: 100%" cellspacing="0">\n                <tr>\n                    <td>\n                        <p [class.errors]="form.controls.firstname.dirty && form.controls.firstname.invalid">\n                            <mat-form-field>\n                                <input formControlName="firstname" matInput placeholder="First name" name="firstname">\n                            </mat-form-field>\n\n\n                            <span *ngIf="form.controls.firstname.dirty && form.controls.firstname.errors?.required"><br>First name is required</span>\n                            <span *ngIf="form.controls.firstname.dirty && form.controls.firstname.errors?.minlength"><br>First name is 2 chars min</span>\n\n                        </p>\n\n                        <p [class.errors]="form.controls.lastname.dirty && form.controls.lastname.invalid">\n                            <mat-form-field>\n                                <input formControlName="lastname" matInput placeholder="Last Name" name="lastname">\n                            </mat-form-field>\n\n                            <span *ngIf="form.controls.lastname.dirty && form.controls.lastname.errors?.required"><br>Last name is required</span>\n                            <span *ngIf="form.controls.lastname.dirty && form.controls.lastname.errors?.minlength"><br>Last name is 2 chars min</span>\n\n                        </p>\n\n                    </td>\n                    <td class="align-right">\n                        <img width="100" src="{{ form.controls.photo.value }}" />\n                        <input type="hidden" formControlName="photo" name="photo">\n                    </td>\n                </tr>\n            </table>\n\n            <p [class.errors]="form.controls.email.dirty && form.controls.email.invalid">\n                <mat-form-field>\n                    <input formControlName="email" matInput placeholder="Email *" style="width:100%" name="email">\n                </mat-form-field>\n\n                <span *ngIf="form.controls.email.dirty && form.controls.email.errors?.required">Email is mandatory</span>\n                <span *ngIf="form.controls.email.dirty && form.controls.email.errors?.sfeirEmail"><br>Invalid email (ex: chegham.w@sfeir.com)</span>\n            </p>\n\n            <p formGroupName="address">\n                <mat-form-field>\n                    <input formControlName="street" matInput placeholder="Address" style="width:100%" name="street">\n                </mat-form-field>\n            </p>\n\n            <p formGroupName="address">\n                <mat-form-field>\n                    <input formControlName="city" matInput placeholder="City" name="city">\n                </mat-form-field>\n                <mat-form-field>\n                    <input formControlName="postalCode" matInput placeholder="Postal Code" name="postalCode">\n                </mat-form-field>\n            </p>\n\n            <p [class.errors]="form.controls.phone.dirty && form.controls.phone.invalid">\n                <mat-form-field>\n                    <input formControlName="phone" matInput placeholder="Phone * (ex: 0612345678)" style="width:100%" name="phone">\n                </mat-form-field>\n\n                <span *ngIf="form.controls.phone.dirty && form.controls.phone.errors?.required">Phone number is mandatory</span>\n                <span *ngIf="form.controls.phone.dirty && !form.controls.phone.errors?.required && form.controls.phone.errors?.pattern">Phone number must be 10 digits</span>\n            </p>\n\n            <p>\n                <mat-checkbox name="isManager" formControlName="isManager">Manager</mat-checkbox>\n            </p>\n\n        </form>\n    </mat-card-content>\n\n\n    <mat-card-actions align="end">\n        <button mat-button type="button" (click)="cancel()">Cancel</button>\n        <button mat-button color="primary" type="submit" (click)="submit(form.value)" [disabled]="!form.valid">Save</button>\n    </mat-card-actions>\n\n</mat-card>'},J79z:function(t,e,n){(t.exports=n("Vmy+")(!1)).push([t.i,":host{padding:0 9px;display:-webkit-box;display:-ms-flexbox;display:flex;position:fixed;width:100%;bottom:0;left:-1px;background-color:#fff}mat-form-field{width:90%}img{width:45px;height:45px;margin:3px 5px}",""]),t.exports=t.exports.toString()},O8Cl:function(t,e,n){(t.exports=n("Vmy+")(!1)).push([t.i,"h1{text-align:center}section{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}",""]),t.exports=t.exports.toString()},Oxuo:function(t,e){t.exports='<button mat-icon-button (click)="file.click()" *ngIf="!blobUrl; else img">\n\t<mat-icon>launch</mat-icon>\n</button>\n<ng-template #img>\n    <img *ngIf="blobUrl" [src]="blobUrl">\n</ng-template>\n\n<input type="file" #file name="file" hidden accept="image/*" (change)="onFileSelected($event)" />\n\n<mat-form-field>\n    <input matInput placeholder="please enter your text here..." #text type="text" (keyup.enter)="send(text.value)">\n</mat-form-field>\n<button (click)="send(text.value)" mat-icon-button [disabled]="text.value === \'\'">\n\t<mat-icon>send</mat-icon>\n</button>\n'},PpIx:function(t,e){t.exports="<sfeir-person></sfeir-person>\n"},UM7p:function(t,e,n){(t.exports=n("Vmy+")(!1)).push([t.i,"section{overflow:scroll;height:100%;margin-bottom:60px}section h1{text-align:center;color:#d3d3d3}",""]),t.exports=t.exports.toString()},Ufkx:function(t,e){t.exports='<section>\n  <sfeir-form [model]="person"\n    (submit)="submit($event)"\n    (cancel)="cancel()" class="wide"></sfeir-form>\n</section>\n'},WfpY:function(t,e){t.exports='<section #section [ngClass]="{\'me\': display !== \'row\'}">\n    <img [src]="model.user.photoURL" [title]="model.user.displayName">\n    <div>\n        <p class="message">\n            {{ model.message }}\n            <img *ngIf="!!model.image" [src]="model.image">\n        </p>\n        <br/>\n        <span class="date" [title]="model.user.email" *ngIf=" display === \'row\' ">{{ model.user.displayName }} \u2022 </span><span class="date" title="{{model.date | date:\'yyyy-mm-ddTHH:mm:ss.sssZ\'}}">{{ model.date | date:\'MMM d, hh:mm a\' }}</span>\n    </div>\n</section>\n<span #scrollerRef></span>'},YeaV:function(t,e,n){(t.exports=n("Vmy+")(!1)).push([t.i,"section{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-ms-flex-line-pack:stretch;align-content:stretch;width:100%;height:100%}sfeir-chat-list{margin-bottom:-150px}",""]),t.exports=t.exports.toString()},YuZA:function(t,e){function n(t){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+t+"'.")})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="YuZA"},ZM2E:function(t,e,n){(t.exports=n("Vmy+")(!1)).push([t.i,"h1{text-align:center}section{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.list{padding-bottom:100px}.dialog-modal{top:0;position:fixed;background:rgba(0,0,0,.5);height:100%;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-preferred-size:auto;flex-basis:auto;visibility:hidden;color:#fff}.dialog-modal.active{visibility:visible}mat-list-item{border:1px solid rgba(0,0,0,.1);color:rgba(0,0,0,.87);background-color:#fff;margin-left:-12px;font-size:14px;display:block;margin:3px 0;padding:0;height:70px;width:400px;transition:box-shadow .2s;cursor:pointer}mat-list-item:hover{box-shadow:0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12)}.buttons-fab{display:block;height:170px;width:90px;position:fixed;bottom:0;right:0}.buttons-fab button{transition:bottom .2s}.buttons-fab:hover .button-add{bottom:90px}button[mat-fab]{background-color:#f87c00}button[mat-fab]:last-child{background-color:#ffa700}",""]),t.exports=t.exports.toString()},bu1B:function(t,e,n){(t.exports=n("Vmy+")(!1)).push([t.i,":host{display:block;margin:4px;padding:4px}section{display:-webkit-box;display:-ms-flexbox;display:flex}section.me{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;text-align:right}section.me p{background:#4eb8f5;color:#fff;border-radius:20px 20px 0 20px}section p{background-color:#d3d3d3;margin:0;padding:10px;border-radius:20px 20px 20px 0}section p img{max-width:100%}section>img{border-radius:50%;height:44px;width:44px;margin:12px}section div .message{display:inline-block}section div .date{font-size:.8em;color:gray}",""]),t.exports=t.exports.toString()},cDNt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("LMZF"),r=n("x8Hs"),i=n("RyBE"),a=n("TMwh"),s=n("UHIZ"),c=n("0nO6"),l=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},p=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},f=function(){function t(){this.name="Angular"}return t.prototype.ngOnInit=function(){},t=l([Object(o.n)({selector:"sfeir-home",template:n("PpIx"),styles:[n("Fp1G")]}),p("design:paramtypes",[])],t)}(),u=(n("+DIC"),this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}),d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},m=function(){function t(t,e){this._el=t,this._rd=e}return t.prototype.ngOnInit=function(){this.person&&this.person.isManager&&this._rd.setElementProperty(this._el.nativeElement,"innerHTML",'<i class="material-icons">supervisor_account</i>')},u([Object(o.E)(),d("design:type",Object)],t.prototype,"person",void 0),t=u([Object(o.t)({selector:"[sfeir-badge]"}),d("design:paramtypes",[o.u,o.W])],t)}(),h=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},b=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},g=function(){function t(){this.person={},this.delete$=new o.w}return t.prototype.ngOnInit=function(){},t.prototype.delete=function(t){this.delete$.emit(t)},h([Object(o.E)(),b("design:type",Object)],t.prototype,"person",void 0),h([Object(o.Q)("personDelete"),b("design:type",o.w)],t.prototype,"delete$",void 0),t=h([Object(o.n)({selector:"sfeir-card",template:n("hBOu"),styles:[n("j9el")]}),b("design:paramtypes",[])],t)}(),y=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},x=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},v=function(){function t(){this.submit$=new o.w,this.cancel$=new o.w,this.model={address:{}},this.form=this._buildForm()}return t.prototype.ngOnInit=function(){},t.prototype.ngOnChanges=function(t){t.model&&t.model.currentValue&&(this.model=t.model.currentValue,this.isUpdateMode=!!this.model,this.form.patchValue(this.model))},t.prototype.cancel=function(){this.cancel$.emit()},t.prototype.submit=function(t){this.submit$.emit(t)},t.prototype._buildForm=function(){return new c.c({id:new c.b(""),firstname:new c.b("",c.k.compose([c.k.required,c.k.minLength(2)])),lastname:new c.b("",c.k.compose([c.k.required,c.k.minLength(2)])),email:new c.b("",c.k.compose([c.k.required])),photo:new c.b("https://randomuser.me/api/portraits/lego/6.jpg"),address:new c.c({street:new c.b(""),city:new c.b(""),postalCode:new c.b("")}),phone:new c.b("",c.k.compose([c.k.required,c.k.pattern("\\d{10}")])),isManager:new c.b("")})},y([Object(o.E)(),x("design:type",Object)],t.prototype,"model",void 0),y([Object(o.Q)("cancel"),x("design:type",o.w)],t.prototype,"cancel$",void 0),y([Object(o.Q)("submit"),x("design:type",o.w)],t.prototype,"submit$",void 0),t=y([Object(o.n)({selector:"sfeir-form",template:n("Hz+y"),styles:[n("wLsZ")]}),x("design:paramtypes",[])],t)}(),w=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},R=function(){function t(){}return t.prototype.transform=function(t,e){return t||"N/A"},t=w([Object(o.U)({name:"na"})],t)}(),_={production:!0,backend:{protocol:"https",host:"us-central1-sfeir-firebase.cloudfunctions.net",port:"443",endpoints:{allPeople:"/people/",reset:"/reset",onePeople:"/people/:id",randomPeople:"/people/random"}},firebase:{apiKey:"AIzaSyClJyRZYlrt0RteiYfB7yQYqddTmKJNm-s",authDomain:"sfeir-firebase.firebaseapp.com",databaseURL:"https://sfeir-firebase.firebaseio.com",projectId:"sfeir-firebase",storageBucket:"sfeir-firebase.appspot.com",messagingSenderId:"295388413389"}},j=(n("GQSG"),this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}),k=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},O=function(){function t(t){var e=this;this._http=t,this._backendURL={};var n=_.backend.protocol+"://"+_.backend.host;_.backend.port&&(n+=":"+_.backend.port),Object.keys(_.backend.endpoints).forEach(function(t){return e._backendURL[t]=""+n+_.backend.endpoints[t]})}return t.prototype.reset=function(){return this._http.get(this._backendURL.reset,this._options())},t.prototype.fetch=function(){return this._http.get(this._backendURL.allPeople,this._options()).map(function(t){return 200===t.status?t.json():[]})},t.prototype.fetchRandom=function(){return this._http.get(this._backendURL.randomPeople).map(function(t){return t.json()})},t.prototype.fetchOne=function(t){return this._http.get(this._backendURL.onePeople.replace(":id",t)).map(function(t){return t.json()})},t.prototype.delete=function(t){return this._http.delete(this._backendURL.onePeople.replace(":id",t)).map(function(t){return t.json()})},t.prototype.update=function(t){return this._http.put(this._backendURL.onePeople.replace(":id",t.id),t).map(function(t){return t.json()})},t.prototype.create=function(t){return this._http.post(this._backendURL.allPeople,JSON.stringify(t),this._options()).map(function(t){return t.json()})},t.prototype._options=function(t){void 0===t&&(t={});var e=new a.a(Object.assign({"Content-Type":"application/json"},t));return new a.d({headers:e})},t=j([Object(o.B)(),k("design:paramtypes",[a.b])],t)}(),S=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},I=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},P=function(){function t(t,e){this._peopleService=t,this._router=e,this.dialogStatus="inactive",this.view="card"}return t.prototype.ngOnInit=function(){var t=this;this._peopleService.fetch().subscribe(function(e){return t.people=e})},t.prototype.delete=function(t){var e=this;this._peopleService.delete(t.id).subscribe(function(t){return e.people=t})},t.prototype.add=function(t){var e=this;this._peopleService.create(t).flatMap(function(t){return e._peopleService.fetch()}).subscribe(function(t){e.people=t,e.hideDialog()})},t.prototype.showDialog=function(){this.dialogStatus="active"},t.prototype.hideDialog=function(){this.dialogStatus="inactive"},t.prototype.switchView=function(){this.view="card"===this.view?"list":"card"},t.prototype.navigate=function(t){this._router.navigate(["/edit",t.id])},t=S([Object(o.n)({selector:"sfeir-people",template:n("ceTX"),styles:[n("ZM2E")]}),I("design:paramtypes",[O,s.b])],t)}(),L=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},U=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},D=function(){function t(t,e,n){this._route=t,this._router=e,this._peopleService=n,this.person={address:{}}}return t.prototype.ngOnInit=function(){var t=this;this._route.params.map(function(t){return t.id}).flatMap(function(e){return t._peopleService.fetchOne(e)}).subscribe(function(e){return t.person=e})},t.prototype.submit=function(t){var e=this;this._peopleService.update(t).subscribe(function(){return e._router.navigate(["/people"])})},t.prototype.cancel=function(){this._router.navigate(["/people"])},t=L([Object(o.n)({selector:"sfeir-update",template:n("Ufkx"),styles:[n("gvLE")]}),U("design:paramtypes",[s.a,s.b,O])],t)}(),C=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:f},{path:"people",component:P},{path:"edit/:id",component:D}],M=s.c.forRoot(C,{useHash:!0}),E=n("TO51"),T=n("iEW0"),N=function(){return function(t,e,n,o){this.user=t,this.message=e,this.date=n,this.image=o}}(),z=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},F=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},V=function(){function t(t){this.zone=t}return t.prototype.get=function(t){var e=new E.a,n="/public";return t.uuid&&(n="/thread/"+t.uuid),this.dbRef=T.database().ref(n),this.dbRef.orderByChild("date").limitToLast(20).on("value",function(t){var n=[];t.forEach(function(t){t.key;var e=t.val();return n.push(e),!1}),e.next(n)}),e},t.prototype.save=function(t){var e=t.user,n=t.message,o=t.fileUrl,r=new N(e,n,(new Date).getTime(),o);this.dbRef.push(r)},t.prototype.clear=function(){this.dbRef.remove()},t=z([Object(o.B)(),F("design:paramtypes",[o.O])],t)}(),$=n("kUdC"),B=function(){return function(t,e,n){this.displayName=t,this.email=e,this.photoURL=n}}(),Y=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},q=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},A=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(t){i(t)}}function s(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,s)}c((o=o.apply(t,e||[])).next())})},J=this&&this.__generator||function(t,e){function n(n){return function(a){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,r&&(i=r[2&n[0]?"return":n[0]?"throw":"next"])&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[0,i.value]),n[0]){case 0:case 1:i=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,r=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){s.label=n[1];break}if(6===n[0]&&s.label<i[1]){s.label=i[1],i=n;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(n);break}i[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}var o,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},G=function(){function t(t){this.router=t}return t.prototype.getAuth=function(t){$.auth().onAuthStateChanged(t)},t.prototype.getLoggedUser=function(){return JSON.parse(localStorage.getItem("user")||"{}")},t.prototype.login=function(t,e){return A(this,void 0,void 0,function(){var n,o,r,i;return J(this,function(a){switch(a.label){case 0:n={},o={},a.label=1;case 1:return a.trys.push([1,6,,7]),"email"!==t?[3,3]:[4,$.auth().signInWithEmailAndPassword(e.email,e.password)];case 2:return r=a.sent(),n=new B(r.email,r.email,"assets/images/avatar_circle_blue_512dp.png"),[3,5];case 3:return[4,$.auth().signInWithPopup(new $.auth.GoogleAuthProvider)];case 4:o=a.sent(),n=new B(o.user.displayName,o.user.email,o.user.photoURL),a.label=5;case 5:return localStorage.setItem("user",JSON.stringify(n)),this.router.navigate(["/chat"]),[3,7];case 6:return i=a.sent(),console.error("can not log in"),console.error(i),[3,7];case 7:return[2,n]}})})},t.prototype.logout=function(){return A(this,void 0,void 0,function(){return J(this,function(t){switch(t.label){case 0:return[4,$.auth().signOut()];case 1:return t.sent(),localStorage.removeItem("user"),this.router.navigate(["/login"]),[2]}})})},t.prototype.isLoggedIn=function(){return null!==localStorage.getItem("user")},t=Y([Object(o.B)(),q("design:paramtypes",[s.b])],t)}(),W=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},Z=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},H=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(t){i(t)}}function s(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,s)}c((o=o.apply(t,e||[])).next())})},Q=this&&this.__generator||function(t,e){function n(n){return function(a){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,r&&(i=r[2&n[0]?"return":n[0]?"throw":"next"])&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[0,i.value]),n[0]){case 0:case 1:i=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,r=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){s.label=n[1];break}if(6===n[0]&&s.label<i[1]){s.label=i[1],i=n;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(n);break}i[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}var o,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},X=function(){function t(){this.messaging=T.messaging(),this.notifications$=new E.a,this.messages=[],this.register()}return t.prototype.register=function(){return H(this,void 0,void 0,function(){var t,e;return Q(this,function(n){switch(n.label){case 0:return n.trys.push([0,6,,7]),[4,this.registerSW()];case 1:return n.sent(),[4,this.messaging.requestPermission()];case 2:return n.sent(),console.log("Notification permission granted."),[4,this.messaging.getToken()];case 3:return t=n.sent(),this.storeToken(t)?[4,this.sendTokenToServer(t)]:[3,5];case 4:n.sent(),console.log("Token stored and sent to server."),n.label=5;case 5:return this.registerListeners(),[3,7];case 6:return e=n.sent(),console.log("Unable to get permission to notify.",e),[2,!1];case 7:return[2]}})})},t.prototype.registerSW=function(){return H(this,void 0,void 0,function(){var t,e;return Q(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,navigator.serviceWorker.register("assets/firebase-messaging-sw.js")];case 1:return t=n.sent(),this.messaging.useServiceWorker(t),[3,3];case 2:return e=n.sent(),console.error("ServiceWorker is not supported by this browser."),console.log(e),[2,!1];case 3:return[2]}})})},t.prototype.registerListeners=function(){var t=this;this.messaging.onTokenRefresh(function(e){return H(t,void 0,void 0,function(){return Q(this,function(t){return[2]})})}),this.messaging.onMessage(function(e){console.log("Message received. ",e),t.messages.push(e),t.notifications$.next(t.messages.length)})},t.prototype.storeToken=function(t){var e=localStorage.getItem("notificationToken");return(null===e||e!==t)&&(localStorage.setItem("notificationToken",t),!0)},t.prototype.sendTokenToServer=function(t){return H(this,void 0,void 0,function(){return Q(this,function(e){return[2,Promise.resolve(T.database().ref("/notifications/tokens").push(t))]})})},t=W([Object(o.B)(),Z("design:paramtypes",[])],t)}(),K=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},tt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},et=function(){function t(t,e,n,o){this.authService=t,this.databaseservice=e,this.messages=n,this.people=o,this.notifications$=n.notifications$}return t.prototype.reset=function(){this.people.reset().subscribe()},t=K([Object(o.n)({selector:"sfeir-app",template:n("efyd"),styles:[n("hxJY")]}),tt("design:paramtypes",[G,V,X,O])],t)}(),nt=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},ot=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},rt=function(){function t(t){this._peopleService=t,this.person={}}return t.prototype.ngOnInit=function(){var t=this;this._peopleService.fetch().subscribe(function(e){return t.person=e[0]})},t.prototype.random=function(){var t=this;this._peopleService.fetchRandom().subscribe(function(e){return t.person=e})},t=nt([Object(o.n)({selector:"sfeir-person",template:n("wvgY"),styles:[n("O8Cl")]}),ot("design:paramtypes",[O])],t)}(),it=n("Un6q"),at=(n("ivSB"),this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}),st=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ct=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(t){i(t)}}function s(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,s)}c((o=o.apply(t,e||[])).next())})},lt=this&&this.__generator||function(t,e){function n(n){return function(a){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,r&&(i=r[2&n[0]?"return":n[0]?"throw":"next"])&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[0,i.value]),n[0]){case 0:case 1:i=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,r=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){s.label=n[1];break}if(6===n[0]&&s.label<i[1]){s.label=i[1],i=n;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(n);break}i[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}var o,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},pt=function(){function t(){this.storageRef=T.storage().ref()}return t.prototype.store=function(t){var e=t.file,n=t.metadata;return ct(this,void 0,void 0,function(){var t,o;return lt(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.storageRef.child("thread/"+e.name).put(e,n)];case 1:return t=r.sent(),[2,t.downloadURL];case 2:return o=r.sent(),console.error("Upload failed:",o),[3,3];case 3:return[2]}})})},t=at([Object(o.B)(),st("design:paramtypes",[])],t)}(),ft=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},ut=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},dt=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(t){i(t)}}function s(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,s)}c((o=o.apply(t,e||[])).next())})},mt=this&&this.__generator||function(t,e){function n(n){return function(a){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,r&&(i=r[2&n[0]?"return":n[0]?"throw":"next"])&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[0,i.value]),n[0]){case 0:case 1:i=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,r=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){s.label=n[1];break}if(6===n[0]&&s.label<i[1]){s.label=i[1],i=n;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(n);break}i[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}var o,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},ht=function(){function t(t,e,n,o,r,i){this.databaseService=t,this.authService=e,this.storage=n,this.messaging=o,this.route=r,this.zone=i}return t.prototype.ngOnInit=function(){var t=this;if(this.user=this.authService.getLoggedUser(),!this.user)throw Error("User is not logged in.");this.thread=this.route.params.map(function(t){return t.id}).flatMap(function(e){return t.databaseService.get({uuid:e})})},t.prototype.sendMessage=function(t){return dt(this,void 0,void 0,function(){var e;return mt(this,function(n){switch(n.label){case 0:return e="",this.fileInfo?[4,this.storage.store(this.fileInfo)]:[3,2];case 1:e=n.sent(),n.label=2;case 2:return this.databaseService.save({user:this.user,message:t,fileUrl:e}),[2]}})})},t.prototype.onFileSelected=function(t){return dt(this,void 0,void 0,function(){return mt(this,function(e){return this.fileInfo=t,[2]})})},ft([Object(o._10)("section"),ut("design:type",Object)],t.prototype,"sectionRef",void 0),t=ft([Object(o.n)({selector:"sfeir-chat",template:n("D7uq"),styles:[n("YeaV")]}),ut("design:paramtypes",[V,G,pt,X,s.a,o.O])],t)}(),bt=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},gt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},yt=function(){function t(){this.messageList=[]}return t.prototype.ngOnInit=function(){},t.prototype.displayMode=function(t){return this.user&&this.user.email===t.user.email?"row-reverse":"row"},t.prototype.trackByFn=function(t,e){return e.date},bt([Object(o.E)(),gt("design:type",Array)],t.prototype,"messageList",void 0),bt([Object(o.E)(),gt("design:type",Object)],t.prototype,"user",void 0),t=bt([Object(o.n)({selector:"sfeir-chat-list",template:n("t/tF"),styles:[n("UM7p")]}),gt("design:paramtypes",[])],t)}(),xt=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},vt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},wt=function(){function t(){this.model={},this.display="row"}return t.prototype.ngOnInit=function(){this.scrollerRef.nativeElement.scrollIntoView(!0)},xt([Object(o.E)(),vt("design:type",Object)],t.prototype,"model",void 0),xt([Object(o.E)(),vt("design:type",Object)],t.prototype,"display",void 0),xt([Object(o._10)("scrollerRef"),vt("design:type",o.u)],t.prototype,"scrollerRef",void 0),t=xt([Object(o.n)({selector:"sfeir-chat-item",template:n("WfpY"),styles:[n("bu1B")]}),vt("design:paramtypes",[])],t)}(),Rt=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},_t=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},jt=function(){function t(t){this.sanitizer=t,this.message=new o.w,this.file=new o.w}return t.prototype.ngOnInit=function(){},t.prototype.send=function(t){this.message.emit(t),this.textRef.nativeElement.value="",this.blobUrl=null},t.prototype.onFileSelected=function(t){t.stopPropagation(),t.preventDefault();var e=t.target.files[0];this.blobUrl=this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(e));var n={contentType:e.type};this.file.emit({file:e,metadata:n})},Rt([Object(o._10)("text"),_t("design:type",o.u)],t.prototype,"textRef",void 0),Rt([Object(o.Q)(),_t("design:type",o.w)],t.prototype,"message",void 0),Rt([Object(o.Q)(),_t("design:type",o.w)],t.prototype,"file",void 0),t=Rt([Object(o.n)({selector:"sfeir-chat-input",template:n("Oxuo"),styles:[n("J79z")]}),_t("design:paramtypes",[i.c])],t)}(),kt=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},Ot=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},St=function(){function t(t,e,n){this.authService=t,this.zone=e,this.router=n,this.user={},this.userCred={}}return t.prototype.ngOnInit=function(){var t=this;this.authService.getAuth(function(e){return t.user=e})},t=kt([Object(o.n)({selector:"sfeir-login",template:n("+s99"),styles:[n("uW91")]}),Ot("design:paramtypes",[G,o.O,s.b])],t)}(),It=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},Pt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Lt=function(){function t(t,e){this.router=t,this.authService=e}return t.prototype.canActivate=function(){return!!this.authService.isLoggedIn()||(this.router.navigate(["/login"]),!1)},t=It([Object(o.B)(),Pt("design:paramtypes",[s.b,G])],t)}(),Ut=[{path:"chat",canActivate:[Lt],children:[{path:"",component:ht},{path:":id",component:ht}]},{path:"login",component:St}],Dt=(n("rgUS"),n("MCDL")),Ct=n("R1vt"),Mt=n("vgc3"),Et=n("YXpL"),Tt=n("dYU3"),Nt=n("Ioj9"),zt=n("ghl+"),Ft=n("SlD5"),Vt=n("0cZJ"),$t=n("ZYB1"),Bt=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},Yt=[Dt.a,Ct.a,$t.a,Vt.a,Nt.a,zt.a,Tt.a,Et.a,Mt.a,Ft.a],qt=function(){function t(){}return t=Bt([Object(o.J)({imports:Yt.slice(),exports:Yt.slice()})],t)}(),At=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};T.initializeApp(_.firebase);var Jt=function(){function t(){}return t=At([Object(o.J)({imports:[it.b,qt,c.e,s.c.forRoot(Ut,{useHash:!0})],declarations:[ht,yt,wt,jt,St],providers:[Lt,pt,X,V,G]})],t)}(),Gt=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},Wt=function(){function t(){}return t=Gt([Object(o.J)({imports:[i.a,qt,a.c,s.c,c.j,M,Jt],declarations:[et,f,rt,P,g,v,D,R,m],providers:[O],bootstrap:[et]})],t)}();_.production&&Object(o._15)(),Object(r.a)().bootstrapModule(Wt)},ceTX:function(t,e){t.exports='<section [ngSwitch]="view">\n\n    <section *ngSwitchCase="\'card\'">\n        <sfeir-card *ngFor="let person of people" [person]="person" (personDelete)="delete($event)"></sfeir-card>\n    </section>\n\n\n    <section *ngSwitchCase="\'list\'">\n        <mat-list>\n            <mat-list-item (click)="navigate(person)" *ngFor="let person of people" class="mat-whiteframe-2dp mat-card">\n                <img mat-list-avatar src="{{ person.photo }}">\n                <h3 mat-line> {{person.firstname}} {{person.lastname}}\n                    <span sfeir-badge [person]="person"></span>\n                </h3>\n                <p mat-line>\n                    <span> {{person.entity}} </span> \u2014 <span>{{person.email}} </span>\n                </p>\n            </mat-list-item>\n        </mat-list>\n    </section>\n\n</section>\n\n<section class="dialog-modal" [ngClass]="{ \'active\': dialogStatus == \'active\' }">\n    <sfeir-form (submit)="add($event)" (cancel)="hideDialog()"></sfeir-form>\n</section>\n\n<section class="buttons-fab" *ngIf="dialogStatus == \'inactive\'">\n    <button (click)="showDialog()" mat-fab class="button-add">\n    <i class="material-icons">add</i>\n  </button>\n\n    <button (click)="switchView()" mat-fab>\n    <i class="material-icons" *ngIf="view === \'card\'" >list</i>\n    <i class="material-icons" *ngIf="view === \'list\'" >view_stream</i>\n  </button>\n</section>'},efyd:function(t,e){t.exports='<mat-toolbar class="extend-toolbar">\n  <span>\n    <a [routerLink]="[\'/\']">\n      <img src="assets/images/logo-sfeir.svg" aria-label="sfeir" alt="Sfeir">\n    </a>\n  </span>\n\n  <span class="flex"></span>\n\n  <span>\n    <a [routerLink]="[\'/chat\']">Chat\n      <mat-chip *ngIf="(notifications$ | async) as notifications">{{notifications}}</mat-chip>\n    </a>\n    <a [routerLink]="[\'/people\']">List</a>\n    <button mat-icon-button [matMenuTriggerFor]="menu" *ngIf="authService.isLoggedIn()">\n      <mat-icon>more_vert</mat-icon>\n    </button>\n    <mat-menu #menu="matMenu">\n      <button mat-menu-item (click)="reset()">\n        <mat-icon>autorenew</mat-icon>\n        <span>Reset Data</span>\n      </button>\n      <button mat-menu-item (click)="databaseservice.clear()">\n        <mat-icon>delete_sweep</mat-icon>\n        <span>Clear</span>\n      </button>\n      <button mat-menu-item (click)="authService.logout()">\n        <mat-icon>account_circle</mat-icon>\n        <span>Logout</span>\n      </button>\n    </mat-menu>\n  </span>\n</mat-toolbar>\n\n<router-outlet></router-outlet>\n'},gvLE:function(t,e,n){(t.exports=n("Vmy+")(!1)).push([t.i,"h1{text-align:center}section{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}",""]),t.exports=t.exports.toString()},hBOu:function(t,e){t.exports='<mat-card class="mat-whiteframe-2dp">\n    <mat-card-title-group>\n        <img mat-card-mat-image src="{{ person.photo }}" width="128px" height="128px">\n        <mat-card-title>\n            <a [routerLink]="[\'/person\', person.id]">\n                <span>{{ person.firstname }} {{ person.lastname }}</span>\n            </a>\n        </mat-card-title>\n        <mat-card-subtitle>{{ person.entity | na }}</mat-card-subtitle>\n        <mat-card-subtitle class="contact-info">\n            <mat-icon>email</mat-icon>\n            <a href="mailto:{{ person.firstname }} {{ person.lastname }}&lt;{{ person.email }}&gt;" title="Send an email to {{ person.firstname }} {{ person.lastname }}" class="truncate">{{ person.email }}</a>\n        </mat-card-subtitle>\n        <mat-card-subtitle class="contact-info">\n            <mat-icon>phone</mat-icon>\n            <a href="tel:{{ person.phone }}" title="Call {{ person.firstname }}">{{ person.phone }}</a>\n        </mat-card-subtitle>\n\n    </mat-card-title-group>\n    <mat-card-content>\n        <div class="contact-info">\n            Manager&nbsp;:&nbsp;\n            <a href="#/people/1">{{ person.manager }}</a>\n        </div>\n        <div class="contact-info">\n            Location&nbsp;:&nbsp;<a href="http://www.sfeir.com/contact/">SFEIR</a>\n        </div>\n        <div class="buttons-info">\n            <a mat-button title="Chat with {{ person.firstname }}" [routerLink]="[\'/chat/\', person.id, {email:person.email }]">\n                <mat-icon>comment</mat-icon>\n            </a>\n            <a mat-button title="Edit" [routerLink]="[\'/edit/\', person.id]">\n                <mat-icon>create</mat-icon>\n            </a>\n            <a mat-button title="Delete" (click)="delete(person)">\n                <mat-icon>delete</mat-icon>\n            </a>\n        </div>\n    </mat-card-content>\n</mat-card>\n'},hxJY:function(t,e,n){(t.exports=n("Vmy+")(!1)).push([t.i,":host{margin-top:70px;display:block}mat-toolbar.extend-toolbar{background-color:#ffcd00;background-repeat:no-repeat;background-position:100%;top:0;box-shadow:0 2px 5px 0 rgba(0,0,0,.26);width:100%;z-index:1;color:#fff;margin-bottom:10px;position:fixed}mat-toolbar .flex{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}mat-toolbar a{color:inherit;text-decoration:none;height:100%;margin:0 10px 0 10px;border-bottom:2px solid transparent;font-size:1.1em;font-weight:400;font-family:Open Sans,sans-serif}mat-toolbar a:not(.active):hover{border-bottom:2px solid #fff}mat-toolbar a img{height:100%;margin-left:-60px}mat-toolbar-row:first-child{margin-bottom:66px}mat-toolbar-row:nth-child(2){padding-left:30px;text-align:center;height:56px;margin-top:56px}.mat-chip:not(.mat-basic-chip){background:#f1453d;color:#fff;border-radius:12px;top:-8px;position:relative;text-align:center;padding:3px 7px 3px;margin:3px}",""]),t.exports=t.exports.toString()},j9el:function(t,e,n){(t.exports=n("Vmy+")(!1)).push([t.i,"@media (min-width:768px){:host(.wide) mat-card,:host(.wide) mat-list-item{width:600px}}mat-card,mat-list-item{color:rgba(0,0,0,.87);background-color:#fff;margin:10px;width:360px}mat-card:hover{box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12)}mat-list-item{height:22px;padding:0;margin-left:-12px;font-size:14px}mat-card-title{margin-bottom:0}mat-card-title span{font-size:24px;font-weight:400;line-height:32px}mat-card-subtitle.contact-info{margin-top:-7px;height:20px}mat-card-title-group{margin-bottom:20px}.contact-info mat-icon+a{top:-8px;position:relative;height:18px}.contact-info a:hover{text-decoration:underline}.buttons-info{float:right;margin-top:-50px}@media (max-width:412px){.buttons-info{margin-top:-34px}}.buttons-info [mat-button]{min-width:0;padding:2px;height:40px}mat-icon{color:rgba(0,0,0,.54);margin:4px}a{color:#ffa100;text-decoration:none}mat-card-actions button[mat-raised-button]{margin:5px}.hl{background-color:orange;color:#fff}.skills{padding:10px;background-color:#fafafa}a.truncate{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:inline-block;width:188px}@media (max-width:600px){a.truncate{width:170px}}@media (max-width:768px){a.truncate{width:190px}}.mat-whiteframe-2dp{box-shadow:0 1px 5px 0 rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.12)}img{border-radius:50%;margin-right:18px}@media (max-width:412px){img{margin-right:3px}}@media (max-width:600px){img{margin-right:5px}}",""]),t.exports=t.exports.toString()},"t/tF":function(t,e){t.exports='<section>\n\n    <h1 *ngIf="messageList && messageList.length === 0">Your chat history is empty.</h1>\n\n    <sfeir-chat-item [display]="displayMode(item)" [model]="item" *ngFor="let item of messageList; trackBy: trackByFn"></sfeir-chat-item>\n</section>'},uW91:function(t,e,n){(t.exports=n("Vmy+")(!1)).push([t.i,"mat-card{max-width:360px;margin:auto}div[mat-card-avatar]{overflow:hidden}div[mat-card-avatar] img{height:40px;width:40px}mat-card-actions,section{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}mat-card-actions{border-top:1px solid #d3d3d3}.login-btn[mat-button]{margin:4px}.login-btn[mat-button].google{color:#f2553b;border:1px solid}.login-btn[mat-button].email{color:orange;border:1px solid}",""]),t.exports=t.exports.toString()},wLsZ:function(t,e,n){(t.exports=n("Vmy+")(!1)).push([t.i,"mat-card,mat-list-item{color:rgba(0,0,0,.87);background-color:#fff;margin:10px;width:360px}mat-card:hover{box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12)}mat-list-item{height:22px;padding:0;margin-left:-12px;font-size:14px}mat-card-title{margin-bottom:0}mat-card-title span{font-size:24px;font-weight:400;line-height:32px}mat-card-subtitle{margin-top:-18px;height:17px}mat-card-title-group{margin-bottom:20px}img{border-radius:50%;margin-right:18px;-webkit-filter:grayscale(100%)}.align-right{text-align:right}.errors{color:red}",""]),t.exports=t.exports.toString()},wvgY:function(t,e){t.exports='<section>\n    <sfeir-card [person]="person" (personDelete)="random()"></sfeir-card>\n</section>\n\n\n<button mat-fab (click)="random()">\n  <i class="material-icons">autorenew</i>\n</button>'}},[0]);